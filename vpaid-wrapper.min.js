var __IASVANS=function(q){var k={now:function(){return(new Date).getTime()},sendMonitoringPixel:function(c){try{this.sendUrlRequest(["//pixel.adsafeprotected.com/mon?anId=10173&campId=",encodeURIComponent(l.getPartnerId()),"&pubId=",encodeURIComponent("vans-js_"+c)].join(""))}catch(b){h.report("smp",b)}},sendUrlRequest:function(c,b){var g,a;if(c){g=this.getWindow();try{a=new g.XMLHttpRequest,b&&(a.onreadystatechange=b),a.open("GET",c),a.send()}catch(e){}}},getWindow:function(){return m.getWin()},
getDocument:function(){return m.getDoc()},generateUID:function(){var c,b="";try{for(c=0;8>c;c++)b=[b,Math.floor(65536*(1+Math.random())).toString(16).substring(1)].join("")}catch(g){}return b},noop:function(){}},h=function(){var c={};return{report:function(b,g){if(!c[b])try{c[b]=!0,k.sendUrlRequest(["//pixel.adsafeprotected.com/jsdiagnostic?code:vans-js_",encodeURIComponent(l.getPartnerId()),"_",b,"&err:",encodeURIComponent(g.message)].join(""))}catch(a){}}}}(),n=function(){var c,b=!1,g=function(e){e==
a()&&(b=!0,p.flushUnsentEvents());return b?"jv3":null},a=function(){c||(c=k.generateUID());return c};return{getVideoId:a,setNodeInterface:function(e){var b,c,f=a();try{b="IASid"+f,c="blockAd"+f,e.className+=" integral-vid-"+f,e[c]=k.noop,e[b]=g,e.getVersion=function(){return"3.3.0"}}catch(r){h.report("sni",r)}},isEstablished:function(){return b},resetHandshake:function(){b=!1}}}(),s=function(){var c,b=function(){var e=function(e){return"undefined"!==typeof e},a=function(){var a="u";try{e(window.opera)&&
e(window.opera.buildNumber)?a="o":e(window.mozInnerScreenY)?a="g":e(window.chrome)&&e(window.chrome.csi)?a="c":e(window.msWriteProfilerMark)&&e(window.crypto)?a="e":e(window.attachEvent)||e(window.msCrypto)?a="i":e(window.WebKitPoint)&&(a="w")}catch(b){}return a}(),b=function(){var a=function(a){for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];""!==c&&"null"!==c&&"undefined"!==c&&null!==c&&e(c)||delete a[b]}return a},b=function(a){var b={},c,d;for(d in a)a.hasOwnProperty(d)&&(c=a[d],e(b[c])?b[c]+=
d:b[c]=d);a={};for(d in b)b.hasOwnProperty(d)&&(c=b[d],a[c]=d);return a};return function(){var c=function(){var a={g:"",q:""};try{a.q=window.parent.parent.parent.parent.parent.parent.parent.parent.parent.parent.location.href}catch(c){var b=c.message,b=b.substring(b.lastIndexOf("<")+1,b.lastIndexOf(">")),d;if(d=e(b))if(d=!1,e(window.navigator)&&e(window.navigator.userAgent)){var f=window.navigator.userAgent.match(/Firefox\/([\.0-9]+)/);null!==f&&2==f.length&&(f=f[1].split("."),3==parseInt(f[0],10)&&
6>=parseInt(f[1],10)&&(3==f.length?13>=parseInt(f[2],10)&&(d=!0):d=!0))}d&&(a.g=b)}return a},d={};try{d.a=encodeURIComponent(top.location.href)}catch(g){}try{d.b=encodeURIComponent(parent.location.href)}catch(h){}if(window!=top){try{d.c=encodeURIComponent(parent.document.referrer)}catch(t){}try{d.e=encodeURIComponent(window.document.referrer)}catch(k){}}try{d.d=encodeURIComponent(window.location.href)}catch(p){}try{var n=c();d.g=encodeURIComponent(n.g);d.q=encodeURIComponent(n.q)}catch(l){}var d=
a(d),d=b(d),c=[],m;for(m in d)d.hasOwnProperty(m)&&c.push({key:m,val:d[m]});c.sort(function(a,b){return a.val.length>b.val.length?1:a.val.length<b.val.length?-1:0});return c}()}();return{br:a,urls:b}},g=function(a,b,c){var f=["//pixel.adsafeprotected.com/db2/video/",b,"/",c,"/skeleton.js?videoId=",n.getVideoId()].join("");b=function(a){f=[f,"&adsafe_url=",a.val,"&adsafe_type=",a.key].join("")};try{a.urls.forEach(b),f=[f,"&adsafe_jsinfo=br:",a.br].join("")}catch(g){h.report("bvu",g)}return f},a=function(){if(4==
this.readyState)if(p.sendPerfSample(40),200==this.status)try{c("failed"===JSON.parse(this.responseText).action?"block":"safe")}catch(a){h.report("ba",a)}else h.report("blk_url_req_err",{message:this.status})};return{init:function(e,d,h){var f=b();p.sendPerfSample(30);e=g(f,e,d);c=h;k.sendUrlRequest(e,a)}}}(),p=function(){var c=[],b=function(a){if(n.isEstablished())try{k.getWindow().postMessage(JSON.stringify(a),"*")}catch(b){h.report("dm",b)}else try{c.push(a)}catch(d){h.report("cm",d)}},g=function(a,
c){try{b({messageType:a,id:n.getVideoId(),time:k.now(),partner:l.getPartnerId(),eventData:c})}catch(d){h.report("se",d)}};return{sendEvent:g,flushUnsentEvents:function(){try{c.forEach(b)}catch(a){h.report("fue",a)}},sendPerfSample:function(a){g("PerfCheckpoint",{type:"vans",code:a,timestamp:k.now()})}}}(),l=function(){var c,b=function(a,b){var c,g=q||"pixel.adsafeprotected.com",f=function(a){var b="";Object.keys(a).forEach(function(c){"advEntityId"!=c&&"pubEntityId"!=c&&"partner"!=c&&(b+="&"+c+"="+
a[c])});return b};try{c=["//",g,a,"?videoId=",n.getVideoId(),f(b)].join("")}catch(k){h.report("bsurl",k)}return c},g=function(a,c,d){var g,f=k.getDocument();try{g=f.createElement("script"),g.src=b(a,c),d.parentNode.appendChild(g)}catch(h){k.sendMonitoringPixel("inj_err")}};return{initCM:function(a,b){if(!a.partner)throw Error("missing partnerId");m.setWin(b);p.sendPerfSample(20);c=a.partner;try{if(!a.anId)throw Error("missing anId");k.sendMonitoringPixel("cminit");n.setNodeInterface(b);g("/jsvid",
a,b)}catch(d){h.report("icm",d)}},initFW:function(a,b,d){var l;if(!a.partner)throw Error("missing partnerId");m.setWin(b);p.sendPerfSample(20);c=a.partner;try{if(!a.advEntityId||!a.pubEntityId)throw Error("missing client id: advEntityId: "+a.advEntityId+" ,pubEntityId: "+a.pubEntityId);k.sendMonitoringPixel("fwinit");d&&s.init(a.advEntityId,a.pubEntityId,d);l="/fwjsvid/st/"+a.advEntityId+"/"+a.pubEntityId+"/skeleton.js";n.setNodeInterface(b);g(l,a,b)}catch(f){h.report("ifw",f)}},getPartnerId:function(){return c}}}(),
m=function(){var c=window;return{getWin:function(){return c},setWin:function(b){(b=b&&b.ownerDocument)&&b.defaultView?c=b.defaultView:b&&b.parentWindow?c=b.parentWindow:h.report("sc",{message:""})},getDoc:function(){return c.document}}}();p.sendPerfSample(10);return{initFW:l.initFW,initCM:l.initCM,sendEvent:p.sendEvent}};
function z(b){function u(){h=b.S;q=new google.ima.AdDisplayContainer(b.P,h);c=new google.ima.AdsLoader(q);c.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,l,!1);c.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,m,!1);var a=new google.ima.AdsRequest;a.adsResponse=b.xml;a.linearAdSlotWidth=b.b;a.linearAdSlotHeight=b.a;a.nonLinearAdSlotWidth=b.b;a.nonLinearAdSlotHeight=b.a;c.requestAds(a)}function l(c){var n=new google.ima.AdsRenderingSettings;n.bitrate=b.bitrate;n.restoreCustomPlaybackStateOnAdBreakComplete=
!0;a=c.getAdsManager(h,n);a.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,m);a.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,v);a.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,e);a.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,f);a.addEventListener(google.ima.AdEvent.Type.LOADED,f);a.addEventListener(google.ima.AdEvent.Type.STARTED,f);a.addEventListener(google.ima.AdEvent.Type.FIRST_QUARTILE,f);a.addEventListener(google.ima.AdEvent.Type.MIDPOINT,
f);a.addEventListener(google.ima.AdEvent.Type.THIRD_QUARTILE,f);a.addEventListener(google.ima.AdEvent.Type.COMPLETE,f);a.addEventListener(google.ima.AdEvent.Type.DURATION_CHANGE,f);a.addEventListener(google.ima.AdEvent.Type.PAUSED,f);a.addEventListener(google.ima.AdEvent.Type.RESUMED,f);a.addEventListener(google.ima.AdEvent.Type.VOLUME_CHANGED,f);a.addEventListener(google.ima.AdEvent.Type.VOLUME_MUTED,f);a.addEventListener(google.ima.AdEvent.Type.SKIPPED,f);a.addEventListener(google.ima.AdEvent.Type.USER_CLOSE,
f);a.addEventListener(google.ima.AdEvent.Type.IMPRESSION,f);a.addEventListener(google.ima.AdEvent.Type.CLICK,f);b.m()}function f(e){var c=e.getAd();if(c&&c.isLinear())switch(e.type){case google.ima.AdEvent.Type.LOADED:g=c;break;case google.ima.AdEvent.Type.STARTED:b.D();k=c.getDuration();b.c();p=setInterval(function(){a.getRemainingTime();if(null!==g){var c=g.getDuration();c!=k&&(k=c,b.c())}},300);break;case google.ima.AdEvent.Type.FIRST_QUARTILE:b.u();break;case google.ima.AdEvent.Type.MIDPOINT:b.w();
break;case google.ima.AdEvent.Type.THIRD_QUARTILE:b.F();break;case google.ima.AdEvent.Type.COMPLETE:clearInterval(p);b.s();break;case google.ima.AdEvent.Type.DURATION_CHANGE:b.c();break;case google.ima.AdEvent.Type.PAUSED:b.A();break;case google.ima.AdEvent.Type.RESUMED:b.B();break;case google.ima.AdEvent.Type.VOLUME_CHANGED:b.H();break;case google.ima.AdEvent.Type.VOLUME_MUTED:b.I();break;case google.ima.AdEvent.Type.SKIPPED:b.C();break;case google.ima.AdEvent.Type.USER_CLOSE:b.G();break;case google.ima.AdEvent.Type.IMPRESSION:b.v();
break;case google.ima.AdEvent.Type.CLICK:b.o()}}function m(c){try{a.destroy()}catch(n){}b.h(c.getError().getMessage())}function v(){}function e(){}var a,c,q,p,h,g,k=-2;return{j:function(){var a=document.getElementsByTagName("head")[0],b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("src","https://imasdk.googleapis.com/js/sdkloader/ima3.js");a.appendChild(b);b.onload=u},K:function(){h.load();q.initialize();try{a.init(b.b,b.a,b.l),a.start()}catch(t){try{a.destroy()}catch(n){}b.h("Failed to start AdsManager")}},
J:function(){a.pause()},M:function(){a.resume()},g:function(){return a.getRemainingTime()},f:function(){return k},R:function(){a.stop()},N:function(b){a.setVolume(b)},i:function(){return a.getVolume()},L:function(b,c,e){a.resize(b,c,e)},getAdSkippableState:function(){return a.getAdSkippableState()},O:function(){a.skip()}}}
function A(){function b(b){try{var w=(new DOMParser).parseFromString(b,"text/xml").getElementsByTagName("CompanionAds");0<w.length&&(y=(new XMLSerializer).serializeToString(w[0]))}catch(B){}c=z({P:q,S:p,xml:b,bitrate:n,b:k,a:t,l:x,m:function(){a("AdLoaded")},D:function(){e("Started");a("AdVideoStart");a("AdStarted")},u:function(){a("AdVideoFirstQuartile")},w:function(){a("AdVideoMidpoint")},F:function(){a("AdVideoThirdQuartile")},s:function(){a("AdVideoComplete");u()},c:function(){a("AdDurationChange")},
A:function(){a("AdPaused")},B:function(){a("AdPlaying")},H:function(){a("AdVolumeChange")},I:function(){a("AdVolumeChange")},C:function(){a("AdSkipped")},G:function(){a("AdUserClose")},v:function(){a("AdImpression")},o:function(){a("AdClickThru")},h:function(){a("AdError")}});c.j()}function u(){e("Stopping ad");c.R();setTimeout(a,75,["AdStopped"])}function l(){e("getAdVolume");return c.i()}function f(){e("getAdSkippableState");return c.getAdSkippableState()}function m(){e("duration = "+c.f());return c.f()}
function v(){e("Only Linear Ads supported");return!0}function e(a){console.log(a)}function a(a){if(r){var b=l(),c=m();r.sendEvent(a,{volume:b,ad_duration:c})}a in h&&(e("raising event "+a),h[a]())}var c=null,q=null,p=null,h={},g={},k=-1,t=-1,n=-1,x=null,r=null,y=null,d={};d.getAdLinear=v;d.getAdLinear=v;d.getAdCompanions=function(){return y};d.getAdIcons=function(){e("AdIcons not currently supported");return!1};d.getAdDuration=m;d.getAdRemainingTime=function(){e("remaining time = "+c.g());return c.g()};
d.getAdHeight=function(){return t};d.getAdWidth=function(){return k};d.getAdSkippableState=f;d.getAdExpanded=function(){e("getAdExpanded");return!1};d.getAdVolume=l;d.setAdVolume=function(a){e("setAdVolume "+a);c.N(a)};d.unsubscribe=function(a){e("unsubscribe "+a);h[a]=null};d.subscribe=function(a,b,c){e("Subscribe for "+b+" - "+a);h[b]=a.bind(c)};d.expandAd=function(){e("expandAd (not supported)")};d.collapseAd=function(){e("collapseAd (not supported)")};d.skipAd=function(){e("skipAd");f()&&c.O()};
d.resumeAd=function(){e("resumeAd");c.M()};d.pauseAd=function(){e("pauseAd");c.J()};d.resizeAd=function(b,d,f){e("resizeAd "+b+"x"+d+" "+f);c.L(b,d,f);k=b;t=d;x=f;if(r){var w=l(),g=m();r.sendEvent("resizeAd",{volume:w,ad_duration:g,width:b,height:d,viewMode:f})}a("AdSizeChange")};d.initAd=function(c,d,f,h,m,l){k=c;t=d;n=h;x=f;q=l.slot;p=l.videoSlot;g=JSON.parse(m.AdParameters);e("initAd "+c+"x"+d+" "+f+" "+h);null===p&&(p=document.createElement("video"),e("Warning: No video element passed to ad, creating element."),
q.appendChild(p));(c=g.iasEnabled)&&"true"==c.toLowerCase()&&(c={anId:"924394",partner:"MediaMath",advId:g.advertiserId,campId:g.strategyId,pubId:g.exchangeId,placementId:g.creativeId,bidUrl:g.bidUrl,impId:g.auctionId},r=new __IASVANS,r.initCM(c));c=new XMLHttpRequest;c.timeout=2E3;c.onreadystatechange=function(){4==this.readyState&&(null!==this.responseText?b(this.responseText):a("AdError"))};c.ontimeout=function(){a("AdError")};c.open("GET",g.url,!0);c.send()};d.startAd=function(){e("Starting ad");
c.K()};d.stopAd=u;d.handshakeVersion=function(){return"2.0"};return d}window.getVPAIDAd=function(){return new A};
